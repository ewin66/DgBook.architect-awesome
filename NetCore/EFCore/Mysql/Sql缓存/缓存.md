





# 架构设计图--数据缓存

![1560256006539](assets/1560256006539.png)







##	应用层	缓存

### 	单应用缓存



![1560255999573](assets/1560255999573.png)

![1560255779186](assets/1560255779186.png)





单应用缓存	-不能跨进程/跨应用访问

应用系统/服务器	多个应用/进程占用	内存紧张

## 应用层	=>	分布式中间件	









![1560256281683](assets/1560256281683.png)



![1560256646380](assets/1560256646380.png)



![1560256896930](assets/1560256896930.png)





![1560258197364](assets/1560258197364.png)





##	分布式中间件	缓存



![1560256468327](assets/1560256468327.png)



### 分布式	应用缓存

![1560256922374](assets/1560256922374.png)







## 客户端缓存



内容不小	不经常变	

服务器采购	带宽很贵	

放在客户端-，浏览器



![1560257326621](assets/1560257326621.png)



![1560257097508](assets/1560257097508.png)

加载静态文件

ajax异步请求数据包	内容





![1560258174168](assets/1560258174168.png)

###	首次请求	Hash出的	ETag

![1560258337995](assets/1560258337995.png)

![1560258441259](assets/1560258441259.png)



###		后续对比	处理ETag

hash对比	符合则反馈304	不用做处理使用缓存内容

减少带宽损耗

![1560258582415](assets/1560258582415.png)

![1560258679133](assets/1560258679133.png)

![1560258795517](assets/1560258795517.png)



### 浏览器储存













## 	SpringBoot

![1560257871299](assets/1560257871299.png)