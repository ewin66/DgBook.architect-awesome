;/*!question-new:widget/mini-editor/mini-editor.js*/
define("question-new:widget/mini-editor/mini-editor",function(t,e,n){var i=t("common:widget/js/util/tangram/tangram"),a=t("common:widget/js/util/event/event"),r=t("common:widget/js/ui/base/base"),o=r(function(){var t=this;t.maxLength=200,t.countByte=!1,t.className="",t.name="mini-editor",t.defaultContent=""}).extend({init:function(){var t=this;t.target=i(t.target),t.container=i("<div/>").attr("id",t.guid+t.name).addClass(t.name).addClass(t.className).appendTo(t.target),i("<textarea/>").attr("id",t.guid+"textarea").appendTo(t.container).attr("placeholder",t.defaultContent),i("<p/>").attr("id",t.guid+"limit").addClass("mini-editor-limit").hide().appendTo(t.container).html(t.maxLength),t._getElement("textarea").on("change keyup",function(){t.fire("change",this)}).keydown(function(e){e.ctrlKey&&13==e.keyCode&&(t.fire("submit"),this.blur())}).focus(function(){t.container.removeClass("blur").addClass("focus"),t._getElement("textarea").css("color","#333"),t.fire("focus")}).blur(function(){t.container.removeClass("focus").addClass("blur"),t.fire("blur")}),t.on("change",function(){var e=t.getContent(),n=t.countByte?i.string(e).getByteLength():e.length,r=(t.maxLength-n,t._getElement("limit"));a.fire("minieditor.change",this),r.html("<em>"+n+"</em>/"+t.maxLength),n>200&&r.find("em").css({color:"#FF0000"})})},_getElement:function(t){return t?this.container.find("#"+this.guid+t):this.container},getElement:function(t){return this._getElement(t).get(0)},getContent:function(){return i.string(this._getElement("textarea").val()).trim()},setContent:function(t){return this._getElement("textarea").val(t)}});n.exports=o});